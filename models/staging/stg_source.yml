version: 2

models:
  - name: stg_source
    description: "Aggregates key performance indicators on a daily basis without segmenting by dimensions. Provides total sessions, total users, total new users, total page views, and average session duration."
    columns:
        - name: session_id
          tests:
          - not_null
          - unique

        - name: user_pseudo_id
          tests:
            - not_null

        - name: event_timestamp
          tests:
            - not_null

        - name: ga_session_number
          tests:
            - not_null

        - name: event_date
          tests:
            - not_null

        - name: traffic_medium
          tests:
            - not_null

        - name: traffic_source
          tests:
            - not_null

        - name: traffic_name
            - not_null

        - name: device_category
          tests:
            - not_null
            - accepted_values:
                values: ['desktop', 'mobile', 'tablet', 'other'] 

        - name: country
          tests:
            - not_null

        - name: region
          tests:
            - not_null

        - name: city
          tests:
            - not_null